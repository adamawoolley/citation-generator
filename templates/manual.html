<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript">
function createInput(name, defaultValue, placeholder, form) {
	var p = document.createElement("P");
	var text = document.createTextNode(name + ':')
	p.appendChild(text);
	form.appendChild(p);
	var input = document.createElement("INPUT");
	input.setAttribute("type", "text");
	input.setAttribute("name", name);
	input.setAttribute("value", defaultValue);
	if (defaultValue == "") {
		input.setAttribute("placeholder", name)
	}
	else {
		input.setAttribute("placeholder", placeholder);
	}
	form.appendChild(input);
}
function onload() {
	var results = eval("{{ results|safe }}");
	var form = document.getElementById("form");
	for (i=0; i < results.length; i+=2) {
		createInput(results[i], results[i + 1], results[i + 1], form);
	}
	var input = document.createElement("INPUT");
	input.setAttribute("type", "submit");
	form.appendChild(input);
}
    </script>
  </head>
  <body onload="onload()">
    <form id="form" action='/citation' method="post">
	<h1>Fill in the blanks</h1>
    </form>
  </body>
</html>
